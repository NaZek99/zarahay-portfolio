{"ast":null,"code":"import { of } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class DataService {\n  constructor(httpclient) {\n    this.httpclient = httpclient;\n    this.poster = 'http://localhost:3000/poster';\n    this.insertSheet = 'http://localhost:3000/insererbrouillon';\n    this.sheetList = \"http://localhost:3000/afficherbrouillon\";\n    this.supprimer = \"http://localhost:3000/supprimerBrouillon\";\n    this.postBrouillon = \"http://localhost:3000/posterBrouillon\";\n    this.afficherEvent = \"http://localhost:3000/afficherEvent\";\n    this.majBrouillon = \"http://localhost:3000/modifierBrouillon\";\n  }\n  //INSERER UN BROUILLON\n  insert(formData) {\n    console.log(\"envoi du brouillon en cours : \\n\");\n    let data = new FormData();\n    data.append('nom', formData.nom);\n    data.append('description', formData.description);\n    data.append('date', formData.date.toString());\n    if (formData.image) {\n      data.append('image', formData.image);\n      console.log(\"au final :  \\n\" + formData);\n      return this.httpclient.post(this.insertSheet, data);\n    } else {\n      console.log(\"aucun fichier\");\n      return of(\"rien\");\n    }\n  }\n  //FAIRE UN POST\n  makePost(formData) {\n    console.log(\"envoi du post en cours : \\n\");\n    let data = new FormData();\n    data.append('nom', formData.nom);\n    data.append('description', formData.description);\n    data.append('date', formData.date.toString());\n    if (formData.image) {\n      data.append('image', formData.image);\n      console.log(\"au final :  \\n\");\n      console.log(data);\n      return this.httpclient.post(this.poster, data);\n    } else {\n      console.log(\"aucun fichier\");\n      return of(\"rien\");\n    }\n  }\n  //LISTE DES BROUILLONS\n  list() {\n    return this.httpclient.get(this.sheetList);\n  }\n  //SUPPRIMER UN BROUILLON\n  deleteSheet(element) {\n    console.log(\"donnees a envoyer : \\n\");\n    console.log(element);\n    return this.httpclient.post(this.supprimer, element);\n  }\n  //POSTER UN BROUILLON\n  postDraft(element) {\n    return this.httpclient.post(this.postBrouillon, element);\n  }\n  //AFICHER LES POSTS\n  displayPost() {\n    return this.httpclient.get(this.afficherEvent);\n  }\n  //MODIFIER UN BROUILLON\n  updateDraft(draft) {\n    let data = new FormData();\n    data.append('id', draft.id.toString());\n    data.append('nom', draft.nom);\n    data.append('description', draft.description);\n    data.append('date', draft.date.toString());\n    if (draft.image) {\n      console.log(\"avec image\");\n      data.append('image', draft.image);\n      console.log(draft.image);\n      return this.httpclient.post(this.majBrouillon, data);\n    } else {\n      console.log(\"sans image\");\n      data.append('image', \"pas d'image\");\n      console.log(data);\n      return this.httpclient.post(this.majBrouillon, data);\n    }\n  }\n  static #_ = this.ɵfac = function DataService_Factory(t) {\n    return new (t || DataService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: DataService,\n    factory: DataService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["of","DataService","constructor","httpclient","poster","insertSheet","sheetList","supprimer","postBrouillon","afficherEvent","majBrouillon","insert","formData","console","log","data","FormData","append","nom","description","date","toString","image","post","makePost","list","get","deleteSheet","element","postDraft","displayPost","updateDraft","draft","id","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["/home/antonio/Bureau/zarahay-portfolio/portfolio/src/app/component/data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { dataToSend } from '../dataToSend.model';\r\nimport { receivedData } from './admin/receivedData.model';\r\nimport { modify } from './admin/event/modify.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class DataService {\r\n  \r\n  poster : string = 'http://localhost:3000/poster';\r\n  insertSheet: string= 'http://localhost:3000/insererbrouillon';\r\n  sheetList : string = \"http://localhost:3000/afficherbrouillon\";\r\n  supprimer : string = \"http://localhost:3000/supprimerBrouillon\";\r\n  postBrouillon : string = \"http://localhost:3000/posterBrouillon\";\r\n  afficherEvent : string = \"http://localhost:3000/afficherEvent\"\r\n  majBrouillon  : string = \"http://localhost:3000/modifierBrouillon\"\r\n\r\n\r\n\r\n\r\n  constructor(private httpclient : HttpClient) { }\r\n  \r\n    //INSERER UN BROUILLON\r\n    insert(formData: dataToSend):Observable<any> { \r\n      console.log(\"envoi du brouillon en cours : \\n\" )\r\n       let data = new FormData()\r\n   \r\n       \r\n       data .append('nom' , formData.nom)\r\n       data.append('description' , formData.description)\r\n       data.append('date' , formData.date.toString());\r\n   \r\n       if (formData.image){\r\n         data.append('image' , formData.image)\r\n\r\n         console.log(\"au final :  \\n\" + formData )\r\n         return this.httpclient.post(this.insertSheet , data )\r\n       }\r\n       \r\n       else {\r\n         console.log(\"aucun fichier\")\r\n         return of (\"rien\")\r\n       }\r\n     }\r\n\r\n\r\n       //FAIRE UN POST\r\n  makePost(formData: dataToSend):Observable<any> { \r\n    console.log(\"envoi du post en cours : \\n\" )\r\n    let data = new FormData()\r\n\r\n    data .append('nom' , formData.nom);\r\n    data.append('description' , formData.description);\r\n    data.append('date' , formData.date.toString());\r\n    \r\n    if (formData.image){\r\n      data.append('image' , formData.image)\r\n      console.log(\"au final :  \\n\")\r\n      console.log(data)\r\n      return this.httpclient.post(this.poster , data )\r\n    }\r\n    \r\n    else {\r\n      console.log(\"aucun fichier\")\r\n      return of (\"rien\")\r\n    }\r\n  }\r\n\r\n   //LISTE DES BROUILLONS\r\n list():Observable<any> { \r\n  return this.httpclient.get(this.sheetList)\r\n}\r\n\r\n  //SUPPRIMER UN BROUILLON\r\n  deleteSheet(element : receivedData):Observable<any>{\r\n    console.log(\"donnees a envoyer : \\n\")\r\n    console.log(element)\r\n  return this.httpclient.post(this.supprimer,element)\r\n  }\r\n\r\n//POSTER UN BROUILLON\r\n  postDraft(element : receivedData): Observable<any>{\r\n    return this.httpclient.post(this.postBrouillon , element)\r\n  }\r\n  \r\n  //AFICHER LES POSTS\r\n  displayPost():Observable<any>{\r\n    return this.httpclient.get(this.afficherEvent)\r\n  }\r\n\r\n\r\n   //MODIFIER UN BROUILLON\r\n   updateDraft(draft : modify):Observable<any>{\r\n    let data = new FormData()\r\n    \r\n      data.append('id' , draft.id.toString())\r\n      data.append('nom' , draft.nom)\r\n      data.append('description' , draft.description)\r\n      data.append('date' , draft.date.toString())\r\n    \r\n    if (draft.image){\r\n      console.log(\"avec image\")\r\n      data.append('image' , draft.image)\r\n      console.log(draft.image);\r\n      return this.httpclient.post(this.majBrouillon , data)\r\n    }\r\n    else{\r\n      console.log(\"sans image\")\r\n      data.append('image' ,\"pas d'image\")\r\n      console.log(data)\r\n      return this.httpclient.post(this.majBrouillon , data)\r\n\r\n    }\r\n    \r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}