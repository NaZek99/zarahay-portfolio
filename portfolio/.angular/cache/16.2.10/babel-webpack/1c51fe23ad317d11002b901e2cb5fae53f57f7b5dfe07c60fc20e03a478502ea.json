{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { receivedData } from '../receivedData.model';\nimport { dataToSend } from 'src/app/dataToSend.model';\nexport let BrouillonContentComponent = class BrouillonContentComponent {\n  constructor(tout, lien) {\n    this.tout = tout;\n    this.lien = lien;\n    this.afichageListe = false;\n    this.listebrouillon = [];\n    this.donneesBrouillons = new dataToSend(\"\", \"\", \"\");\n  }\n  //POSTER UN BROUILLON\n  postDraft(element) {\n    this.tout.postDraft(element).subscribe(reponse => {\n      console.log(reponse);\n      window.location.reload();\n    }, err => {\n      console.log(err);\n    });\n  }\n  //SUPPRESSION DE BROUILLON\n  supprimmerBrouillon(element) {\n    this.tout.deleteSheet(element).subscribe(response => {\n      console.log(\"suppression reussie\");\n      element.visible = false;\n    }, err => {\n      console.log(\"erreur lors de la suppresion\");\n    });\n  }\n  //CACHER LA LISTE DES BROUILLONS\n  hideList() {\n    this.lien.draftList = false;\n  }\n  ngOnInit() {\n    //AFFICHER LES ELEMENTS DU BROUILLON \n    this.tout.list().subscribe(response => {\n      for (let i = 0; i < response.length; i++) {\n        this.listebrouillon[i] = new receivedData(response[i].id_brouillon, response[i].nom, response[i].description, response[i].nom_image, response[i].image_path, response[i].date);\n        console.log(response[i].nom + \"\\n\" + response[i].description);\n      }\n      for (let i = 0; i < this.listebrouillon.length; i++) {\n        this.listebrouillon[i].absolute_path = \"http://localhost:3000/\" + this.listebrouillon[i].path_img;\n      }\n    }, erreur => {\n      console.log(\"erreur d'affichage\");\n    });\n  }\n};\nBrouillonContentComponent = __decorate([Component({\n  selector: 'app-brouillon-content',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './brouillon-content.component.html',\n  styleUrls: ['./brouillon-content.component.css']\n})], BrouillonContentComponent);","map":{"version":3,"names":["Component","CommonModule","receivedData","dataToSend","BrouillonContentComponent","constructor","tout","lien","afichageListe","listebrouillon","donneesBrouillons","postDraft","element","subscribe","reponse","console","log","window","location","reload","err","supprimmerBrouillon","deleteSheet","response","visible","hideList","draftList","ngOnInit","list","i","length","id_brouillon","nom","description","nom_image","image_path","date","absolute_path","path_img","erreur","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["D:\\zarahay-portfolio\\portfolio\\src\\app\\component\\admin\\brouillon-content\\brouillon-content.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataService } from '../../data.service';\nimport { receivedData } from '../receivedData.model';\nimport { dataToSend } from 'src/app/dataToSend.model';\nimport { LienService } from '../lien.service';\n\n\n@Component({\n  selector: 'app-brouillon-content',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './brouillon-content.component.html',\n  styleUrls: ['./brouillon-content.component.css']\n})\nexport class BrouillonContentComponent implements OnInit {\n  afichageListe: boolean = false\n  listebrouillon: receivedData[] = [];\n  donneesBrouillons = new dataToSend(\"\", \"\", \"\");\n\n  constructor(private tout: DataService, public lien: LienService) { }\n\n  //POSTER UN BROUILLON\n  postDraft(element: receivedData) {\n    this.tout.postDraft(element)\n      .subscribe(\n        (reponse) => {\n          console.log(reponse);\n          window.location.reload()\n        }\n        ,\n        (err) => {\n          console.log(err);\n        }\n      )\n  }\n\n  //SUPPRESSION DE BROUILLON\n  supprimmerBrouillon(element: receivedData) {\n    this.tout.deleteSheet(element)\n      .subscribe(\n        (response) => {\n          console.log(\"suppression reussie\")\n          element.visible = false;\n        },\n        (err) => {\n          console.log(\"erreur lors de la suppresion\")\n        }\n      )\n\n  }\n\n  //CACHER LA LISTE DES BROUILLONS\n  hideList() {\n    this.lien.draftList = false;\n  }\n\n  ngOnInit(): void {\n    //AFFICHER LES ELEMENTS DU BROUILLON \n    this.tout.list()\n      .subscribe(\n        (response) => {\n\n          for (let i = 0; i < response.length; i++) {\n            this.listebrouillon[i] = new receivedData(response[i].id_brouillon, response[i].nom, response[i].description, response[i].nom_image, response[i].image_path, response[i].date)\n            console.log(response[i].nom + \"\\n\" + response[i].description)\n          }\n\n          for (let i = 0; i < this.listebrouillon.length; i++) {\n            this.listebrouillon[i].absolute_path = \"http://localhost:3000/\" + this.listebrouillon[i].path_img;\n          }\n\n        },\n\n        (erreur) => {\n          console.log(\"erreur d'affichage\")\n        }\n      )\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,UAAU,QAAQ,0BAA0B;AAW9C,WAAMC,yBAAyB,GAA/B,MAAMA,yBAAyB;EAKpCC,YAAoBC,IAAiB,EAASC,IAAiB;IAA3C,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,IAAI,GAAJA,IAAI;IAJlD,KAAAC,aAAa,GAAY,KAAK;IAC9B,KAAAC,cAAc,GAAmB,EAAE;IACnC,KAAAC,iBAAiB,GAAG,IAAIP,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;EAEqB;EAEnE;EACAQ,SAASA,CAACC,OAAqB;IAC7B,IAAI,CAACN,IAAI,CAACK,SAAS,CAACC,OAAO,CAAC,CACzBC,SAAS,CACPC,OAAO,IAAI;MACVC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;MACpBG,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,EAEAC,GAAG,IAAI;MACNL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;IAClB,CAAC,CACF;EACL;EAEA;EACAC,mBAAmBA,CAACT,OAAqB;IACvC,IAAI,CAACN,IAAI,CAACgB,WAAW,CAACV,OAAO,CAAC,CAC3BC,SAAS,CACPU,QAAQ,IAAI;MACXR,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCJ,OAAO,CAACY,OAAO,GAAG,KAAK;IACzB,CAAC,EACAJ,GAAG,IAAI;MACNL,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;IAC7C,CAAC,CACF;EAEL;EAEA;EACAS,QAAQA,CAAA;IACN,IAAI,CAAClB,IAAI,CAACmB,SAAS,GAAG,KAAK;EAC7B;EAEAC,QAAQA,CAAA;IACN;IACA,IAAI,CAACrB,IAAI,CAACsB,IAAI,EAAE,CACbf,SAAS,CACPU,QAAQ,IAAI;MAEX,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,QAAQ,CAACO,MAAM,EAAED,CAAC,EAAE,EAAE;QACxC,IAAI,CAACpB,cAAc,CAACoB,CAAC,CAAC,GAAG,IAAI3B,YAAY,CAACqB,QAAQ,CAACM,CAAC,CAAC,CAACE,YAAY,EAAER,QAAQ,CAACM,CAAC,CAAC,CAACG,GAAG,EAAET,QAAQ,CAACM,CAAC,CAAC,CAACI,WAAW,EAAEV,QAAQ,CAACM,CAAC,CAAC,CAACK,SAAS,EAAEX,QAAQ,CAACM,CAAC,CAAC,CAACM,UAAU,EAAEZ,QAAQ,CAACM,CAAC,CAAC,CAACO,IAAI,CAAC;QAC9KrB,OAAO,CAACC,GAAG,CAACO,QAAQ,CAACM,CAAC,CAAC,CAACG,GAAG,GAAG,IAAI,GAAGT,QAAQ,CAACM,CAAC,CAAC,CAACI,WAAW,CAAC;;MAG/D,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACpB,cAAc,CAACqB,MAAM,EAAED,CAAC,EAAE,EAAE;QACnD,IAAI,CAACpB,cAAc,CAACoB,CAAC,CAAC,CAACQ,aAAa,GAAG,wBAAwB,GAAG,IAAI,CAAC5B,cAAc,CAACoB,CAAC,CAAC,CAACS,QAAQ;;IAGrG,CAAC,EAEAC,MAAM,IAAI;MACTxB,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACnC,CAAC,CACF;EACL;CACD;AAhEYZ,yBAAyB,GAAAoC,UAAA,EAPrCxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,uBAAuB;EACjCC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAC1C,YAAY,CAAC;EACvB2C,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,C,EACWzC,yBAAyB,CAgErC"},"metadata":{},"sourceType":"module","externalDependencies":[]}